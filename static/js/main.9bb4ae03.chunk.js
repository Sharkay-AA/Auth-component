(this["webpackJsonpauth-component"]=this["webpackJsonpauth-component"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(19),s=n.n(r),a=n(15),o=n.n(a),i=n(21),u=n(13),j=n(12),l=n(31),b=(n(42),{apiKey:"AIzaSyDyLGWd2gwC9tDhW_75eX-c4fEeHCaWsuM",authDomain:"auth-react-633e3.firebaseapp.com",projectId:"auth-react-633e3",storageBucket:"auth-react-633e3.appspot.com",messagingSenderId:"647487732341",appId:"1:647487732341:web:06a5c6cd5a6fed77c7563c"});console.log(b);var O=l.a.initializeApp(b),d=O.auth(),h=n(1),p=Object(c.createContext)();function m(e){var t=Object(c.useState)(),n=Object(u.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(!0),o=Object(u.a)(a,2),i=o[0],j=o[1];return Object(c.useEffect)((function(){return d.onAuthStateChanged((function(e){s(e),j(!1)}))}),[]),Object(h.jsx)(p.Provider,{value:{currentUser:r,login:function(e,t){return d.signInWithEmailAndPassword(e,t)},signup:function(e,t){return d.createUserWithEmailAndPassword(e,t)},logout:function(){return d.signOut()}},children:!i&&e.children})}var x=n(4);n(28);var f=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(x.g)(),a=Object(c.useContext)(p).login,l=Object(j.c)((function(e){return e}));function b(){return(b=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a(m.current[0].value,m.current[1].value);case 4:s.push("/loggedHome"),d(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r("Email ou mot de passe incorrect.");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var O=Object(j.b)(),d=function(){O({type:"CLOSEMODAL"})},m=Object(c.useRef)([]),f=function(e){e&&!m.current.includes(e)&&m.current.push(e)};return Object(h.jsxs)("div",{className:l.showSignIn?"global-modal":"hide-modal",children:[Object(h.jsx)("div",{onClick:d,className:"overlay"}),Object(h.jsxs)("div",{className:"container-modal",children:[Object(h.jsxs)("form",{onSubmit:function(e){return b.apply(this,arguments)},className:"form-auth",children:[Object(h.jsx)("h2",{children:"CONNEXION"}),Object(h.jsx)("label",{htmlFor:"mail",children:"Votre E-mail"}),Object(h.jsx)("input",{ref:f,type:"email",htmlFor:"mail",required:!0}),Object(h.jsx)("label",{htmlFor:"password",children:"Votre mot de passe"}),Object(h.jsx)("input",{ref:f,type:"password",required:!0,id:"psw"}),n,Object(h.jsx)("button",{className:"btn-sign",children:"Se connecter"})]}),Object(h.jsx)("button",{onClick:d,className:"btn-close",children:"X"}),Object(h.jsx)("p",{onClick:function(){O({type:"TOGGLEUP"})},className:"bottom-help-txt",children:"Besoin de cr\xe9er un compte ?"})]})]})};var v=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(x.g)(),a=Object(c.useContext)(p).signup,l=Object(j.c)((function(e){return e})),b=Object(j.b)(),O=function(){b({type:"CLOSEMODAL"})};function d(){return(d=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m.current[1].value!==m.current[2].value&&r("Les mots de passe ne sont pas identiques"),e.next=4,a(m.current[0].value,m.current[1].value);case 4:s.push("/loggedHome"),O();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=Object(c.useRef)([]),f=function(e){e&&!m.current.includes(e)&&m.current.push(e)};return Object(h.jsxs)("div",{className:l.showSignUp?"global-modal":"hide-modal",children:[Object(h.jsx)("div",{onClick:O,className:"overlay"}),Object(h.jsxs)("div",{className:"container-modal",children:[Object(h.jsxs)("form",{onSubmit:function(e){return d.apply(this,arguments)},className:"form-auth",children:[Object(h.jsx)("h2",{children:"INSCRIPTION"}),Object(h.jsx)("label",{htmlFor:"mail",children:"Votre E-mail"}),Object(h.jsx)("input",{ref:f,type:"email",htmlFor:"mail",required:!0}),Object(h.jsx)("label",{htmlFor:"psw",children:"Votre mot de passe"}),Object(h.jsx)("input",{ref:f,type:"password",required:!0,id:"psw"}),Object(h.jsx)("label",{htmlFor:"confirm-psw",children:"Confirmez votre mot de passe"}),Object(h.jsx)("input",{ref:f,type:"password",required:!0,id:"confirm-psw"}),n,Object(h.jsx)("button",{className:"btn-sign",children:"S'inscrire"})]}),Object(h.jsx)("button",{onClick:O,className:"btn-close",children:"X"}),Object(h.jsx)("p",{onClick:function(){b({type:"TOGGLEIN"})},className:"bottom-help-txt",children:"Vous avez d\xe9ja un compte ?"})]})]})};n(46);var g=function(){var e=Object(j.b)();return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)("button",{onClick:function(){e({type:"TOGGLEIN"})},children:"Connexion"}),Object(h.jsx)("button",{onClick:function(){e({type:"TOGGLEUP"})},children:"Inscription"})]})};n(29);var w=function(){return Object(h.jsxs)("div",{className:"global-container",children:[Object(h.jsx)(g,{}),Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h1",{children:"Bienvenue sur le site."}),Object(h.jsx)("p",{children:"Authentifiez vous pour acc\xe9der aux fonctionnalit\xe9s."})]}),Object(h.jsx)(v,{}),Object(h.jsx)(f,{})]})},S=n(16);var N=function(){var e=Object(c.useContext)(p).logout;return Object(h.jsxs)("div",{className:"global-container",children:[Object(h.jsx)(g,{}),Object(h.jsx)(v,{}),Object(h.jsx)(f,{}),Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)("h1",{children:"Voici votre compte priv\xe9."}),Object(h.jsx)("p",{children:"Amusez-vous bien !"}),Object(h.jsx)("button",{onClick:e,children:"Se d\xe9connecter"})]})]})},C=n(7),y=n(32);var I=function(e){var t=e.component,n=Object(y.a)(e,["component"]),r=Object(c.useContext)(p).currentUser;return Object(h.jsx)(x.b,Object(C.a)(Object(C.a)({},n),{},{render:function(){return r?Object(h.jsx)(t,{}):Object(h.jsx)(x.a,{to:"/"})}}))};var E=function(){return Object(h.jsx)(m,{children:Object(h.jsx)(S.a,{basename:"/Auth-component",children:Object(h.jsxs)(x.d,{children:[Object(h.jsx)(x.b,{exact:!0,path:"/",component:w}),Object(h.jsx)(I,{exact:!0,path:"/loggedhome",component:N})]})})})},k=n(22),L={showSignIn:!1,showSignUp:!1};n(47);var U=Object(k.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLEIN":return!0===e.showSignIn?Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!1}):Object(C.a)(Object(C.a)({},e),{},{showSignIn:!0,showSignUp:!1});case"TOGGLEUP":return e.showSignUp?Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!1}):Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!0});case"CLOSEMODAL":return Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!1});default:return e}}));s.a.render(Object(h.jsx)(j.a,{store:U,children:Object(h.jsx)(E,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.9bb4ae03.chunk.js.map