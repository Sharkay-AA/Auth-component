{"version":3,"sources":["firebase.js","context/AuthContext.js","Components/AuthForm/SignIn.js","Components/AuthForm/SignUp.js","Components/Navbar/Navbar.js","Pages/Home/Home.js","Pages/PrivateHome/PrivateHome.js","Components/PrivateRoute.js","App.js","Reducers/modalsReducer.js","index.js"],"names":["config","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","console","log","app","firebase","initializeApp","auth","AuthContext","createContext","AuthProvider","props","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","Provider","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","children","SignIn","error","setError","history","useHistory","useContext","showModal","useSelector","state","e","a","preventDefault","inputs","current","push","closeModal","dispatch","useDispatch","type","useRef","addInputs","el","includes","className","showSignIn","onClick","onSubmit","htmlFor","ref","required","id","SignUp","showSignUp","Navbar","Home","PrivateHome","PrivateRoute","Component","component","rest","render","to","App","basename","exact","path","INITIAL_STATE","store","createStore","action","ReactDOM","document","getElementById"],"mappings":"+RAGMA,G,MAAS,CACXC,OAASC,0CACTC,WAAY,mCACZC,UAAW,mBACXC,cAAe,+BACfC,kBAAmBJ,eACnBK,MAAOL,8CAGXM,QAAQC,IAAIT,GAEZ,IAAMU,EAAMC,IAASC,cAAcZ,GAEtBa,EAAOH,EAAIG,O,OCbXC,EAAcC,0BAEpB,SAASC,EAAaC,GAAQ,IAAD,EAEMC,qBAFN,mBAEzBC,EAFyB,KAEZC,EAFY,OAGFF,oBAAS,GAHP,mBAGzBG,EAHyB,KAGhBC,EAHgB,KAyBhC,OARAC,qBAAU,WAKN,OAJoBV,EAAKW,oBAAmB,SAAAC,GACxCL,EAAeK,GACfH,GAAW,QAGhB,IAGC,cAACR,EAAYY,SAAb,CAAsBC,MAAO,CAAER,cAAaS,MAjBhD,SAAeC,EAAOC,GAClB,OAAOjB,EAAKkB,2BAA2BF,EAAOC,IAgBKE,OArBvD,SAAgBH,EAAOC,GACnB,OAAOjB,EAAKoB,+BAA+BJ,EAAOC,IAoBSI,OAb/D,WACI,OAAOrB,EAAKsB,YAYZ,UACMd,GAAWJ,EAAMmB,W,iBCuChBC,MAjEf,WAAmB,IAAD,EAEYnB,mBAAS,IAFrB,mBAEPoB,EAFO,KAEAC,EAFA,KAGRC,EAAUC,cACRb,EAAUc,qBAAW5B,GAArBc,MAEFe,EAAYC,aAAY,SAAAC,GAAK,OAAIA,KANzB,4CAQd,WAA4BC,GAA5B,SAAAC,EAAA,6DACID,EAAEE,iBADN,kBAIcpB,EAAMqB,EAAOC,QAAQ,GAAGvB,MAAOsB,EAAOC,QAAQ,GAAGvB,OAJ/D,OAKQa,EAAQW,KAAK,eACbC,IANR,gDASQb,EAAS,oCATjB,0DARc,sBAqBd,IAAMc,EAAWC,cAEXF,EAAa,WACfC,EAAS,CACLE,KAAM,gBAURN,EAASO,iBAAO,IAEhBC,EAAY,SAAAC,GACVA,IAAOT,EAAOC,QAAQS,SAASD,IAC/BT,EAAOC,QAAQC,KAAKO,IAI5B,OACI,sBAAKE,UAAWjB,EAAUkB,WAAa,eAAiB,aAAxD,UACI,qBAAKC,QAASV,EAAYQ,UAAU,YACpC,sBAAKA,UAAU,kBAAf,UACI,uBAAMG,SA/CJ,4CA+C4BH,UAAU,YAAxC,UACI,2CACA,uBAAOI,QAAQ,OAAf,0BACA,uBAAOC,IAAKR,EAAWF,KAAK,QAAQS,QAAQ,OAAOE,UAAQ,IAC3D,uBAAOF,QAAQ,WAAf,gCACA,uBAAOC,IAAKR,EAAWF,KAAK,WAAWW,UAAQ,EAACC,GAAG,QAClD7B,EACD,wBAAQsB,UAAU,WAAlB,6BAEJ,wBAAQE,QAASV,EAAYQ,UAAU,YAAvC,eACA,mBAAGE,QA5BM,WACjBT,EAAS,CACLE,KAAM,cA0BwBK,UAAU,kBAApC,mDCQDQ,MAjEf,WAAmB,IAAD,EAEYlD,mBAAS,IAFrB,mBAEPoB,EAFO,KAEAC,EAFA,KAGRC,EAAUC,cACRT,EAAWU,qBAAW5B,GAAtBkB,OAEFW,EAAYC,aAAY,SAAAC,GAAK,OAAIA,KAEjCQ,EAAWC,cAEXF,EAAa,WACfC,EAAS,CACLE,KAAM,gBAZA,4CAgBd,WAA4BT,GAA5B,SAAAC,EAAA,6DACID,EAAEE,iBAEEC,EAAOC,QAAQ,GAAGvB,QAAUsB,EAAOC,QAAQ,GAAGvB,OAC9CY,EAAS,4CAJjB,SAMUP,EAAOiB,EAAOC,QAAQ,GAAGvB,MAAOsB,EAAOC,QAAQ,GAAGvB,OAN5D,OAOIa,EAAQW,KAAK,eACbC,IARJ,4CAhBc,sBA2Bd,IAMMH,EAASO,iBAAO,IAEhBC,EAAY,SAAAC,GACVA,IAAOT,EAAOC,QAAQS,SAASD,IAC/BT,EAAOC,QAAQC,KAAKO,IAI5B,OACI,sBAAKE,UAAWjB,EAAU0B,WAAa,eAAiB,aAAxD,UACI,qBAAKP,QAASV,EAAYQ,UAAU,YACpC,sBAAKA,UAAU,kBAAf,UACI,uBAAMG,SA7CJ,4CA6C4BH,UAAU,YAAxC,UACI,6CACA,uBAAOI,QAAQ,OAAf,0BACA,uBAAOC,IAAKR,EAAWF,KAAK,QAAQS,QAAQ,OAAOE,UAAQ,IAC3D,uBAAOF,QAAQ,MAAf,gCACA,uBAAOC,IAAKR,EAAWF,KAAK,WAAWW,UAAQ,EAACC,GAAG,QACnD,uBAAOH,QAAQ,cAAf,0CACA,uBAAOC,IAAKR,EAAWF,KAAK,WAAWW,UAAQ,EAACC,GAAG,gBAClD7B,EACD,wBAAQsB,UAAU,WAAlB,2BAEJ,wBAAQE,QAASV,EAAYQ,UAAU,YAAvC,eACA,mBAAGE,QA9BM,WACjBT,EAAS,CACLE,KAAM,cA4BwBK,UAAU,kBAApC,kD,MCnCDU,MAxBf,WAEI,IAAMjB,EAAWC,cAcjB,OACI,sBAAKM,UAAU,SAAf,UACI,wBAAQE,QAdK,WACjBT,EAAS,CACLE,KAAM,cAYN,uBACA,wBAAQO,QATK,WACjBT,EAAS,CACLE,KAAM,cAON,6B,MCHGgB,MAdf,WACI,OACI,sBAAKX,UAAU,mBAAf,UACI,cAAC,EAAD,IACA,sBAAKA,UAAU,oBAAf,UACI,wDACA,6FAEJ,cAAC,EAAD,IACA,cAAC,EAAD,Q,QCUGY,MAlBf,WAAwB,IAEZtC,EAAWQ,qBAAW5B,GAAtBoB,OAER,OACI,sBAAK0B,UAAU,mBAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,sBAAKA,UAAU,oBAAf,UACI,8DACA,mDACA,wBAAQE,QAAS5B,EAAjB,sC,eCADuC,MAff,YAA0D,IAAvBC,EAAsB,EAAjCC,UAAyBC,EAAQ,6BAE7CzD,EAAgBuB,qBAAW5B,GAA3BK,YAER,OACI,cAAC,IAAD,2BACQyD,GADR,IAEIC,OAAQ,WACJ,OAAO1D,EAAc,cAACuD,EAAD,IAAgB,cAAC,IAAD,CAAUI,GAAG,WCOnDC,MAbf,WACE,OACE,cAAC/D,EAAD,UACE,cAAC,IAAD,CAAQgE,SAAU9E,kBAAlB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO+E,OAAK,EAACC,KAAK,IAAIP,UAAWJ,IACjC,cAAC,EAAD,CAAcU,OAAK,EAACC,KAAK,cAAcP,UAAWH,Y,QCZtDW,EAAgB,CAClBtB,YAAY,EACZQ,YAAY,G,UCMVe,EAAQC,aDHC,WAAuD,IAAhCxC,EAA+B,uDAAvBsC,EAAeG,EAAQ,uCAEjE,OAAQA,EAAO/B,MACX,IAAK,WACD,OAAyB,IAArBV,EAAMgB,WACC,2BACAhB,GADP,IAEIgB,YAAY,EACZQ,YAAY,IAGT,2BACAxB,GADP,IAEIgB,YAAY,EACZQ,YAAY,IAGxB,IAAK,WACD,OAAIxB,EAAMwB,WACC,2BACAxB,GADP,IAEIgB,YAAY,EACZQ,YAAY,IAGT,2BACAxB,GADP,IAEIgB,YAAY,EACZQ,YAAY,IAGxB,IAAK,aACD,OAAO,2BACAxB,GADP,IAEIgB,YAAY,EACZQ,YAAY,IAGpB,QACI,OAAOxB,MClCnB0C,IAASV,OACP,cAAC,IAAD,CAAUO,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEFI,SAASC,eAAe,W","file":"static/js/main.9bb4ae03.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nconst config = {\r\n    apiKey : process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: \"auth-react-633e3.firebaseapp.com\",\r\n    projectId: \"auth-react-633e3\",\r\n    storageBucket: \"auth-react-633e3.appspot.com\",\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING,\r\n    appId: process.env.REACT_APP_FIREBASE_API_ID\r\n}\r\n\r\nconsole.log(config)\r\n\r\nconst app = firebase.initializeApp(config);\r\n\r\nexport const auth = app.auth();\r\nexport default app;","import React, { useState, useEffect, createContext } from \"react\";\r\nimport { auth } from \"../firebase\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport function AuthProvider(props) {\r\n\r\n    const [currentUser, setCurrentUser] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    function signup(email, password) {\r\n        return auth.createUserWithEmailAndPassword(email, password);\r\n    };\r\n\r\n    function login(email, password) {\r\n        return auth.signInWithEmailAndPassword(email, password);\r\n    };\r\n\r\n    function logout() {\r\n        return auth.signOut();\r\n    };\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user);\r\n            setLoading(false);\r\n        });\r\n        return unsubscribe\r\n    }, [])\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ currentUser, login, signup, logout }}>\r\n            {!loading && props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n};","import React, { useRef, useState, useContext } from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./AuthForm.css\";\r\n\r\nfunction SignIn() {\r\n\r\n    const [error, setError] = useState(\"\")\r\n    const history = useHistory()\r\n    const { login } = useContext(AuthContext);\r\n\r\n    const showModal = useSelector(state => state);\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            await login(inputs.current[0].value, inputs.current[1].value);\r\n            history.push(\"/loggedHome\")\r\n            closeModal();\r\n\r\n        } catch {\r\n            setError(\"Email ou mot de passe incorrect.\")\r\n        }\r\n    };\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const closeModal = () => {\r\n        dispatch({\r\n            type: \"CLOSEMODAL\"\r\n        })\r\n    };\r\n\r\n    const toggleSignUp = () => {\r\n        dispatch({\r\n            type: \"TOGGLEUP\"\r\n        })\r\n    };\r\n\r\n    const inputs = useRef([]);\r\n\r\n    const addInputs = el => {\r\n        if (el && !inputs.current.includes(el)) {\r\n            inputs.current.push(el)\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={showModal.showSignIn ? \"global-modal\" : 'hide-modal'}>\r\n            <div onClick={closeModal} className=\"overlay\"></div>\r\n            <div className=\"container-modal\">\r\n                <form onSubmit={handleSubmit} className=\"form-auth\">\r\n                    <h2>CONNEXION</h2>\r\n                    <label htmlFor=\"mail\">Votre E-mail</label>\r\n                    <input ref={addInputs} type=\"email\" htmlFor=\"mail\" required />\r\n                    <label htmlFor=\"password\">Votre mot de passe</label>\r\n                    <input ref={addInputs} type=\"password\" required id='psw' />\r\n                    {error}\r\n                    <button className='btn-sign'>Se connecter</button>\r\n                </form>\r\n                <button onClick={closeModal} className=\"btn-close\">X</button>\r\n                <p onClick={toggleSignUp} className=\"bottom-help-txt\">\r\n                    Besoin de créer un compte ?\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SignIn;","import React, { useState, useContext, useRef } from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./AuthForm.css\";\r\n\r\nfunction SignUp() {\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const history = useHistory();\r\n    const { signup } = useContext(AuthContext);\r\n\r\n    const showModal = useSelector(state => state);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const closeModal = () => {\r\n        dispatch({\r\n            type: \"CLOSEMODAL\"\r\n        })\r\n    };\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        if (inputs.current[1].value !== inputs.current[2].value) {\r\n            setError(\"Les mots de passe ne sont pas identiques\")\r\n        }\r\n        await signup(inputs.current[0].value, inputs.current[1].value);\r\n        history.push(\"/loggedHome\");\r\n        closeModal();\r\n    };\r\n\r\n    const toggleSignIn = () => {\r\n        dispatch({\r\n            type: \"TOGGLEIN\"\r\n        })\r\n    };\r\n\r\n    const inputs = useRef([]);\r\n\r\n    const addInputs = el => {\r\n        if (el && !inputs.current.includes(el)) {\r\n            inputs.current.push(el)\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={showModal.showSignUp ? 'global-modal' : \"hide-modal\"}>\r\n            <div onClick={closeModal} className=\"overlay\"></div>\r\n            <div className=\"container-modal\">\r\n                <form onSubmit={handleSubmit} className=\"form-auth\">\r\n                    <h2>INSCRIPTION</h2>\r\n                    <label htmlFor=\"mail\">Votre E-mail</label>\r\n                    <input ref={addInputs} type=\"email\" htmlFor=\"mail\" required />\r\n                    <label htmlFor=\"psw\">Votre mot de passe</label>\r\n                    <input ref={addInputs} type=\"password\" required id='psw' />\r\n                    <label htmlFor=\"confirm-psw\">Confirmez votre mot de passe</label>\r\n                    <input ref={addInputs} type=\"password\" required id='confirm-psw' />\r\n                    {error}\r\n                    <button className='btn-sign'>S'inscrire</button>\r\n                </form>\r\n                <button onClick={closeModal} className=\"btn-close\">X</button>\r\n                <p onClick={toggleSignIn} className=\"bottom-help-txt\">\r\n                    Vous avez déja un compte ?\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignUp;","import React from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\nimport \"./Navbar.css\";\r\n\r\nfunction Navbar() {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const toggleSignIn = () => {\r\n        dispatch({\r\n            type: \"TOGGLEIN\"\r\n        })\r\n    };\r\n\r\n    const toggleSignUp = () => {\r\n        dispatch({\r\n            type: \"TOGGLEUP\"\r\n        })\r\n    };\r\n\r\n    return (\r\n        <nav className='navbar'>\r\n            <button onClick={toggleSignIn}>Connexion</button>\r\n            <button onClick={toggleSignUp}>Inscription</button>\r\n        </nav>\r\n    )\r\n};\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport SignIn from '../../Components/AuthForm/SignIn';\r\nimport SignUp from '../../Components/AuthForm/SignUp';\r\nimport Navbar from '../../Components/Navbar/Navbar';\r\nimport \"./Home.css\";\r\n\r\nfunction Home() {\r\n    return (\r\n        <div className='global-container'>\r\n            <Navbar />\r\n            <div className=\"content-container\">\r\n                <h1>Bienvenue sur le site.</h1>\r\n                <p>Authentifiez vous pour accéder aux fonctionnalités.</p>\r\n            </div>\r\n            <SignUp />\r\n            <SignIn />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Home;","import React, { useContext } from 'react';\r\nimport SignIn from '../../Components/AuthForm/SignIn';\r\nimport SignUp from '../../Components/AuthForm/SignUp';\r\nimport Navbar from '../../Components/Navbar/Navbar';\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport \"../Home/Home.css\";\r\n\r\nfunction PrivateHome() {\r\n\r\n    const { logout } = useContext(AuthContext);\r\n\r\n    return (\r\n        <div className='global-container'>\r\n            <Navbar />\r\n            <SignUp />\r\n            <SignIn />\r\n            <div className=\"content-container\">\r\n                <h1>Voici votre compte privé.</h1>\r\n                <p>Amusez-vous bien !</p>\r\n                <button onClick={logout}>Se déconnecter</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PrivateHome;","import React, { useContext } from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n\r\n    const { currentUser } = useContext(AuthContext)\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={() => {\r\n                return currentUser ? <Component /> : <Redirect to=\"/\" />\r\n            }}\r\n        >\r\n        </Route>\r\n    )\r\n};\r\n\r\nexport default PrivateRoute;","import Home from \"./Pages/Home/Home\";\nimport { AuthProvider } from \"./context/AuthContext\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport PrivateHome from \"./Pages/PrivateHome/PrivateHome\";\nimport PrivateRoute from \"./Components/PrivateRoute\";\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <PrivateRoute exact path=\"/loggedhome\" component={PrivateHome} />\n        </Switch>\n      </Router>\n    </AuthProvider>\n  )\n};\n\nexport default App;\n","const INITIAL_STATE = {\r\n    showSignIn: false,\r\n    showSignUp: false\r\n};\r\n\r\nexport default function modalsReducer(state = INITIAL_STATE, action) {\r\n\r\n    switch (action.type) {\r\n        case \"TOGGLEIN\":\r\n            if (state.showSignIn === true) {\r\n                return {\r\n                    ...state,\r\n                    showSignIn: false,\r\n                    showSignUp: false\r\n                };\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    showSignIn: true,\r\n                    showSignUp: false\r\n                };\r\n            }\r\n        case \"TOGGLEUP\":\r\n            if (state.showSignUp) {\r\n                return {\r\n                    ...state,\r\n                    showSignIn: false,\r\n                    showSignUp: false\r\n                };\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    showSignIn: false,\r\n                    showSignUp: true\r\n                };\r\n            }\r\n        case \"CLOSEMODAL\": {\r\n            return {\r\n                ...state,\r\n                showSignIn: false,\r\n                showSignUp: false\r\n            };\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport modalsReducer from \"./Reducers/modalsReducer\";\nimport \"./index.css\";\n\nconst store = createStore(modalsReducer)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}